CREATE TABLE IF NOT EXISTS region (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS state (
  id CHAR(2) PRIMARY KEY,
  name VARCHAR(50) NOT NULL,
  region_id INTEGER NOT NULL REFERENCES region(id)
);

CREATE TABLE IF NOT EXISTS index_data (
  id SERIAL PRIMARY KEY,
  name VARCHAR(50) NOT NULL
);

CREATE TABLE IF NOT EXISTS state_index_data (
  index_data_id INTEGER NOT NULL REFERENCES index_data(id),
  state_id CHAR(2) NOT NULL REFERENCES state(id),
  value NUMERIC NOT NULL CHECK (value >= 0 AND value <= 1),
  PRIMARY KEY(index_data_id, state_id)
);

CREATE TABLE IF NOT EXISTS region_index_data (
  index_data_id INTEGER NOT NULL REFERENCES index_data(id),
  region_id INTEGER NOT NULL REFERENCES region(id),
  value NUMERIC NOT NULL CHECK (value >= 0 AND value <= 1),
  PRIMARY KEY(index_data_id, region_id)
);

INSERT INTO region (id, name) VALUES 
  (1, 'Centro-Oeste'),
  (2, 'Nordeste'),
  (3, 'Norte'),
  (4, 'Sudeste'),
  (5, 'Sul');

INSERT INTO state (id, name, region_id) VALUES
  ('DF', 'Distrito-Federal',   1),
  ('GO', 'Goiás',              1),
  ('MT', 'Mato Grosso',        1),
  ('MS', 'Mato Grosso do Sul', 1),
  ('AL', 'Alagoas',             2),
  ('BA', 'Bahia',               2),
  ('CE', 'Ceará',               2),
  ('MA', 'Maranhão',            2),
  ('PB', 'Paraíba',             2),
  ('PE', 'Pernambuco',          2),
  ('PI', 'Piauí',               2),
  ('RN', 'Rio Grande do Norte', 2),
  ('SE', 'Sergipe',             2),
  ('AC', 'Acre',      3),
  ('AP', 'Amapá',     3),
  ('AM', 'Amazonas',  3),
  ('PA', 'Pará',      3),
  ('RO', 'Rondônia',  3),
  ('RR', 'Roraima',   3),
  ('TO', 'Tocantins', 3),
  ('ES', 'Espírito Santo', 4),
  ('MG', 'Minas Gerais',   4),
  ('RJ', 'Rio de Janeiro', 4),
  ('SP', 'São Paulo',      4),
  ('PR', 'Paraná',            5),
  ('RS', 'Rio Grande do Sul', 5),
  ('SC', 'Santa Catarina',    5);

INSERT INTO index_data (id, name) VALUES
  (1,  'Índice FIEC de Inovação'),
  (2,  'Índice de Capacidades'),
  (3,  'Investimento Público em C&T'),
  (4,  'Capital Humano - Graduação'),
  (5,  'Capital Humano - Pós-Graduação');
  -- (6,  'Inserção de Mestres e Doutores'),
  -- (7,  'Instituições'),
  -- (8,  'Infraestrutura'),
  -- (9,  'Cooperação'),
  -- (10, 'Índice de Resultados'),
  -- (11, 'Competitividade Global'),
  -- (12, 'Intensidade Tecnológica'),
  -- (13, 'Propriedade Intelectual'),
  -- (14, 'Produção Científica'),
  -- (15, 'Empreendedorismo');

INSERT INTO state_index_data (index_data_id, state_id, value) VALUES
 (1, 'DF', 0.283),
 (1, 'GO', 0.204),
 (1, 'MT', 0.153),
 (1, 'MS', 0.165),
 (1, 'AL', 0.104),
 (1, 'BA', 0.210),
 (1, 'CE', 0.228),
 (1, 'MA', 0.119),
 (1, 'PB', 0.175),
 (1, 'PE', 0.255),
 (1, 'PI', 0.104),
 (1, 'RN', 0.191),
 (1, 'SE', 0.191),
 (1, 'AC', 0.112),
 (1, 'AP', 0.089),
 (1, 'AM', 0.253),
 (1, 'PA', 0.138),
 (1, 'RO', 0.150),
 (1, 'RR', 0.119),
 (1, 'TO', 0.068),
 (1, 'ES', 0.254),
 (1, 'MG', 0.354),
 (1, 'RJ', 0.469),
 (1, 'SP', 0.859),
 (1, 'PR', 0.395),
 (1, 'RS', 0.451),
 (1, 'SC', 0.438),

 (2, 'DF', 0.343),
 (2, 'GO', 0.205),
 (2, 'MT', 0.235),
 (2, 'MS', 0.240),
 (2, 'AL', 0.171),
 (2, 'BA', 0.242),
 (2, 'CE', 0.265),
 (2, 'MA', 0.175),
 (2, 'PB', 0.221),
 (2, 'PE', 0.245),
 (2, 'PI', 0.147),
 (2, 'RN', 0.200),
 (2, 'SE', 0.192),
 (2, 'AC', 0.168),
 (2, 'AP', 0.166),
 (2, 'AM', 0.184),
 (2, 'PA', 0.194),
 (2, 'RO', 0.231),
 (2, 'RR', 0.189),
 (2, 'TO', 0.105),
 (2, 'ES', 0.297),
 (2, 'MG', 0.366),
 (2, 'RJ', 0.602),
 (2, 'SP', 0.803),
 (2, 'PR', 0.402),
 (2, 'RS', 0.459),
 (2, 'SC', 0.411),

 (3, 'DF', 0.058),
 (3, 'GO', 0.012),
 (3, 'MT', 0.025),
 (3, 'MS', 0.004),
 (3, 'AL', 0.041),
 (3, 'BA', 0.013),
 (3, 'CE', 0.026),
 (3, 'MA', 0.008),
 (3, 'PB', 0.001),
 (3, 'PE', 0.024),
 (3, 'PI', 0.069),
 (3, 'RN', 0.000),
 (3, 'SE', 0.006),
 (3, 'AC', 0.048),
 (3, 'AP', 0.001),
 (3, 'AM', 0.035),
 (3, 'PA', 0.049),
 (3, 'RO', 0.002),
 (3, 'RR', 0.000),
 (3, 'TO', 0.000),
 (3, 'ES', 0.089),
 (3, 'MG', 0.028),
 (3, 'RJ', 0.547),
 (3, 'SP', 1.000),
 (3, 'PR', 0.043),
 (3, 'RS', 0.036),
 (3, 'SC', 0.003),

 (4, 'DF', 0.145),
 (4, 'GO', 0.225),
 (4, 'MT', 0.192),
 (4, 'MS', 0.256),
 (4, 'AL', 0.114),
 (4, 'BA', 0.275),
 (4, 'CE', 0.287),
 (4, 'MA', 0.097),
 (4, 'PB', 0.278),
 (4, 'PE', 0.173),
 (4, 'PI', 0.004),
 (4, 'RN', 0.258),
 (4, 'SE', 0.349),
 (4, 'AC', 0.034),
 (4, 'AP', 0.107),
 (4, 'AM', 0.299),
 (4, 'PA', 0.241),
 (4, 'RO', 0.273),
 (4, 'RR', 0.012),
 (4, 'TO', 0.065),
 (4, 'ES', 0.515),
 (4, 'MG', 0.583),
 (4, 'RJ', 0.406),
 (4, 'SP', 0.915),
 (4, 'PR', 0.383),
 (4, 'RS', 0.491),
 (4, 'SC', 0.536),

 (5, 'DF', 0.464),
 (5, 'GO', 0.237),
 (5, 'MT', 0.152),
 (5, 'MS', 0.229),
 (5, 'AL', 0.089),
 (5, 'BA', 0.274),
 (5, 'CE', 0.349),
 (5, 'MA', 0.137),
 (5, 'PB', 0.263),
 (5, 'PE', 0.401),
 (5, 'PI', 0.157),
 (5, 'RN', 0.285),
 (5, 'SE', 0.191),
 (5, 'AC', 0.109),
 (5, 'AP', 0.000),
 (5, 'AM', 0.173),
 (5, 'PA', 0.249),
 (5, 'RO', 0.106),
 (5, 'RR', 0.046),
 (5, 'TO', 0.080),
 (5, 'ES', 0.267),
 (5, 'MG', 0.598),
 (5, 'RJ', 0.790),
 (5, 'SP', 1.000),
 (5, 'PR', 0.497),
 (5, 'RS', 0.700),
 (5, 'SC', 0.454);
  